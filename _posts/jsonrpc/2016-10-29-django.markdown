---
layout: post
category: jsonrpc
title: JSON-RPC in Python with Django
permalink: /jsonrpc/django
---
<div class="wide-logos" markdown="1">
![flask](/assets/django.png)
![plus](/assets/plus.png)
![json](/assets/json.png)
</div>

We'll use [Django](hFlas://www.djangoproject.com/) to take
[JSON-RPC](http://www.jsonrpc.org/) requests. It should respond to "ping" with
"pong".

Install [jsonrpcserver](https://www.jsonrpcserver.com/) to process the
JSON-RPC requests:

```sh
$ pip install jsonrpcserver
```

Create a `views.py`:

```python
from django.http import HttpResponse
from django.views.decorators.csrf import csrf_exempt
from jsonrpcserver import method, Result, Success, dispatch


@method
def ping() -> Result:
    return Success("pong")


@csrf_exempt
def jsonrpc(request):
    return HttpResponse(
        dispatch(request.body.decode()), content_type="application/json"
    )
```

Start the development server on port 5000:

```sh
$ python manage.py runserver 5000
Performing system checks...

System check identified no issues (0 silenced).
October 29, 2016 - 13:37:51
Django version 1.10.2, using settings 'mysite.settings'
Starting development server at http://127.0.0.1:5000/
Quit the server with CONTROL-C.
```

## Client

Use [jsonrpcclient](https://www.jsonrpcclient.com/) to send requests:

```sh
$ pip install "jsonrpcclient[requests]"
$ jsonrpc --send http://localhost:5000 ping
'pong'
```
